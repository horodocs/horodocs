/*Adapt√© de:
 * Crypto-JS v2.5.1 (http://code.google.com/p/crypto-js/) (c) 2009-2011 by Jeff Mott. All rights reserved. http://code.google.com/p/crypto-js/wiki/License
 et (c) 2011 by md5file.com. All rights reserved.
 */
function sha1(t,r){for(var n=[],e=r[0],o=r[1],s=r[2],a=r[3],u=r[4],f=0;f<t.length;f+=16){for(var i=e,h=o,l=s,c=a,y=u,p=0;p<80;p++){if(p<16)n[p]=0|t[f+p];else{var g=n[p-3]^n[p-8]^n[p-14]^n[p-16];n[p]=g<<1|g>>>31}var d=(e<<5|e>>>27)+u+(n[p]>>>0)+(p<20?1518500249+(o&s|~o&a):p<40?1859775393+(o^s^a):p<60?(o&s|o&a|s&a)-1894007588:(o^s^a)-899497514);u=a,a=s,s=o<<30|o>>>2,o=e,e=d}e=e+i|0,o=o+h|0,s=s+l|0,a=a+c|0,u=u+y|0}return[e,o,s,a,u]}("undefined"==typeof Crypto||!Crypto.util)&&function(){var t=self.Crypto={},r=t.util={rotl:function(t,r){return t<<r|t>>>32-r},rotr:function(t,r){return t<<32-r|t>>>r},endian:function(t){if(t.constructor==Number)return 16711935&r.rotl(t,8)|4278255360&r.rotl(t,24);for(var n=0;n<t.length;n++)t[n]=r.endian(t[n]);return t},randomBytes:function(t){for(var r=[];t>0;t--)r.push(Math.floor(256*Math.random()));return r},bytesToWords:function(t){for(var r=[],n=0,e=0;n<t.length;n++,e+=8)r[e>>>5]|=t[n]<<24-e%32;return r},wordsToBytes:function(t){for(var r=[],n=0;n<32*t.length;n+=8)r.push(t[n>>>5]>>>24-n%32&255);return r},bytesToHex:function(t){for(var r=[],n=0;n<t.length;n++)r.push((t[n]>>>4).toString(16)),r.push((15&t[n]).toString(16));return r.join("")},hexToBytes:function(t){for(var r=[],n=0;n<t.length;n+=2)r.push(parseInt(t.substr(n,2),16));return r},bytesToBase64:function(t){if("function"==typeof btoa)return btoa(n.bytesToString(t));for(var r=[],e=0;e<t.length;e+=3)for(var o=t[e]<<16|t[e+1]<<8|t[e+2],s=0;s<4;s++)8*e+6*s<=8*t.length?r.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>>6*(3-s)&63)):r.push("=");return r.join("")},base64ToBytes:function(t){if("function"==typeof atob)return n.stringToBytes(atob(t));for(var t=t.replace(/[^A-Z0-9+\/]/gi,""),r=[],e=0,o=0;e<t.length;o=++e%4)0!=o&&r.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t.charAt(e-1))&Math.pow(2,-2*o+8)-1)<<2*o|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t.charAt(e))>>>6-2*o);return r}};(t=t.charenc={}).UTF8={stringToBytes:function(t){return n.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bytesToString(t)))}};var n=t.Binary={stringToBytes:function(t){for(var r=[],n=0;n<t.length;n++)r.push(255&t.charCodeAt(n));return r},bytesToString:function(t){for(var r=[],n=0;n<t.length;n++)r.push(String.fromCharCode(t[n]));return r.join("")}}}(),self.hash=[1732584193,-271733879,-1732584194,271733878,-1009589776],self.addEventListener("message",function(t){var r,n,e,o,s,a,u,f;r=new Uint8Array(t.data.message),n=Crypto.util.bytesToWords(r),e=t.data.block,t=null,r=null,s={block:e},e.end===e.file_size?(o=8*e.file_size,a=8*(e.end-e.start),u=Math.floor(o/4294967296),f=4294967295&o,n[a>>>5]|=128<<24-a%32,n[14+(a+64>>>9<<4)]=u,n[15+(a+64>>>9<<4)]=f,self.hash=sha1(n,self.hash),s.result=Crypto.util.bytesToHex(Crypto.util.wordsToBytes(self.hash))):self.hash=sha1(n,self.hash),n=null,self.postMessage(s)},!1);
